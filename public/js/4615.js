(self.webpackChunk=self.webpackChunk||[]).push([[4615],{94615:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>n});const a={data:function(){return{collaborationList:null,open:!1,select:null,valid:!0,items:[{text:"Admin"}],name:"",nameRules:[function(t){return!!t||"Name is required"}],email:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],selectRules:[function(t){return!!t||"Item is required"}],loader:!0,users:[],headers:[{text:"First Name",sortable:!1,value:"first_name"},{text:"Last Name",sortable:!1,value:"last_name"},{text:"Email",sortable:!1,value:"email"},{text:"Role",sortable:!1,value:"role"},{text:"Status",value:"status",sortable:!1}],selectDeletedItem:null,dialog:!1,changeStatus:!0,changeStatusCustomerId:null}},watch:{dialog:function(t){t||this.closeStatusChangeDialog()}},mounted:function(){this.getAdminUsers()},methods:{getAdminUsers:function(){var t=this;axios.get("/api/users").then((function(e){var s=e.data.users;t.users=s}),(function(e){var s=e.data.message,a="";for(var n in s)a+=s[n];t.$toast.open({message:a,type:"error"})}))},addItemToCollaborationList:function(t){this.$refs.form.validate()?(this.collaborationData.push(t),this.open=!1,this.$refs.form.reset()):console.log("Invalid Inputs")},changeStatusCustomerDialogOpen:function(t,e,s){this.changeStatus=e,this.changeStatusCustomerId=t,this.dialog=!0},closeStatusChangeDialog:function(){this.changeStatus=null,this.changeStatusCustomerId=null,this.dialog=!1},changeCustomerStatus:function(){var t=this,e={id:this.changeStatusCustomerId,status:this.changeStatus};axios.post("/api/users/change-status",e).then((function(e){t.closeStatusChangeDialog(),t.$snotify.success("User Status Updated",{closeOnClick:!1,pauseOnHover:!1,timeout:1e3,showProgressBar:!1}),setTimeout((function(){t.getCustomers()}),2e3)}),(function(e){var s=e.response.data.message,a="";for(var n in s)a+=s[n];t.$toast.open({message:a,type:"error"})}))}}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-row",[s("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[s("div",{staticClass:"emb-card pa-4 search-box-wrap"},[s("div",{staticClass:"d-flex justify-end align-center"},[s("div",{staticClass:"action-btn-wrap"},[s("v-btn",{attrs:{color:"primary",to:"/sriBay-admin/users/add-user"}},[t._v("\n                        Add Admin\n                        "),s("v-icon",[t._v("mdi-plus-thick")])],1)],1)])])]),t._v(" "),s("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.users,"items-per-page":20},scopedSlots:t._u([{key:"top",fn:function(){return[s("v-dialog",{attrs:{"max-width":"650px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",{staticClass:"text-h5"},[t._v("Are you sure you want to change this this customer status ?")]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeStatusChangeDialog}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.changeCustomerStatus}},[t._v("OK")]),t._v(" "),s("v-spacer")],1)],1)],1)]},proxy:!0},{key:"item.role",fn:function(e){var s=e.item;return[t._v("\n               "+t._s(1==s.role?"Admin":3==s.role?"Member":"User")+"\n            ")]}},{key:"item.status",fn:function(e){var a=e.item;return[s("v-switch",{attrs:{color:"success",value:a.stat,"input-value":a.stat},on:{change:function(e){return t.changeStatusCustomerDialogOpen(a.id,null!==e,e)}}})]}}])})],1)],1)}),[],!1,null,null,null).exports}}]);