(self.webpackChunk=self.webpackChunk||[]).push([[5602],{15602:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});const a={name:"admin-login",data:function(){return{email:"",password:"",checkbox:!1}},created:function(){null!=JSON.parse(sessionStorage.getItem("admin-user"))&&this.logout()},methods:{handleSubmit:function(e){var t=this;if(e.preventDefault(),this.password.length>0){var s=this.email,a=this.password;axios.post("/api/login",{email:s,password:a}).then((function(e){sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("role",e.data.role),sessionStorage.setItem("admin-user",JSON.stringify(e.data.user)),sessionStorage.removeItem("user");var s=e.data.role;null!=sessionStorage.getItem("token")&&(t.$emit("loggedInAdmin"),null!=t.$route.params.nextUrl?t.$router.push(t.$route.params.nextUrl):t.$router.push(1===s?"sriBay-admin":"/login"))})).catch((function(e){t.$toast.open({message:e.response.data.message,type:"error"})}))}},logout:function(){var e=this;axios.post("/api/logout").then((function(t){sessionStorage.removeItem("token"),sessionStorage.removeItem("role"),sessionStorage.removeItem("admin-user"),sessionStorage.removeItem("user"),e.$toast.open({message:"Successfully logout",type:"success"})})).catch((function(t){e.$toast.open({message:t,type:"error"})}))}}};const o=(0,s(51900).Z)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"emb-signIn-wrap section-gap"},[s("div",{staticClass:"container py-0"},[s("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[s("v-flex",{attrs:{sm12:"",md12:"",lg8:"",xl7:""}},[s("v-layout",{attrs:{row:"","mx-sm-0":"","mx-3":"",wrap:"","align-center":"","justify-center":""}},[s("v-flex",{attrs:{sm6:"",md7:"",lg6:"",xl6:"","hidden-sm-and-down":""}},[s("div",{staticClass:"form-img sign-in-image"})]),e._v(" "),s("v-flex",{attrs:{sm10:"",md5:"",lg5:"",xl6:""}},[s("div",{staticClass:"emb-card sign-in-form form-margin d-block white pa-6"},[s("h4",[e._v("Admin Login")]),e._v(" "),s("v-form",[s("v-text-field",{attrs:{type:"email",placeholder:"Email*"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),s("v-text-field",{attrs:{type:"password",placeholder:"Password*"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),s("div",{staticClass:"layout align-center justify-space-between"},[s("v-checkbox",{attrs:{label:"Remember Me"},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}}),e._v(" "),s("router-link",{staticClass:" text-lg-right",attrs:{to:"/session/forgot-password"}},[e._v("Forgot Password ?")])],1),e._v(" "),s("v-btn",{staticClass:"accent mb-3 ma-0",on:{click:e.handleSubmit}},[e._v("\n                                    Login In\n                                ")])],1)],1)])],1)],1)],1)],1)])}),[],!1,null,null,null).exports}}]);