(self.webpackChunk=self.webpackChunk||[]).push([[595],{80595:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const a={name:"SubscriptionPlan",data:function(){return{memberships:[],e1:1,planId:0,planPrice:0,userId:0,login:{email:null,password:null},register:{first_name:null,last_name:null,phone_number:null,email:null,password:null,confirm_password:null,referral_id:null},user:JSON.parse(sessionStorage.getItem("user")),login_valid:!1,register_valid:!1,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],inputRules:{basictextRules:[function(e){return!!e||"This field should not be empty"}]}}},created:function(){this.getSubscriptionPlans()},mounted:function(){var e=document.createElement("script");e.setAttribute("src","https://cdn.directpay.lk/dev/v1/directpayCardPayment.js?v=1"),document.head.appendChild(e),null!=sessionStorage.getItem("referral")&&(this.register.referral_id=sessionStorage.getItem("referral"))},methods:{getSubscriptionPlans:function(){var e=this;axios.get("/api/membership").then((function(t){var s=t.data.membershipPlans;e.memberships=s}),(function(t){var s=t.response.data.message,a="";for(var r in s)a+=s[r];e.$toast.open({message:a,type:"error"})}))},chooseSubscriptionPlan:function(e,t){this.planId=e,this.planPrice=t,null!=sessionStorage.getItem("token")?(this.user=JSON.parse(sessionStorage.getItem("user")),this.initPayment(),this.e1=3):this.e1=2},registerUser:function(){var e=this;this.$refs.register_form.validate(),!0===this.register_valid&&axios.post("/api/create-member-user",this.register).then((function(t){e.$toast.open({message:"User Account Successfully Created..",type:"success"}),null!=sessionStorage.getItem("referral")&&sessionStorage.removeItem("referral"),e.user=t.data.user,e.initPayment(),e.e1=3})).catch((function(t){e.$toast.open({message:t.response.data.message,type:"error"})}))},initPayment:function(){var e=Math.floor(1e3+9e3*Math.random()),t=this.user.id,s=this.planId,a=this.planPrice,r=this.$toast;DirectPayCardPayment.init({container:"card_container",merchantId:"IC02070",amount:this.planPrice,refCode:e,currency:"LKR",type:"ONE_TIME_PAYMENT",customerEmail:"",customerMobile:this.user.phone_number,description:"online payment",debug:!0,responseCallback:function(e){var i={user:t,subscription_plan:s,payment_method:"CARD",card_number:e.data.card.number,received_date:e.data.dateTime,transaction_id:e.data.transactionId,amount:a,payment_stat:2};axios.post("/api/users/register-membership",i).then((function(e){r.open({message:e.data.message,type:"success"}),setTimeout((function(){window.location.href="/session/signin"}),4e3)})).catch((function(e){r.open({message:e.response.data.message,type:"error"})}))},errorCallback:function(e){this.$toast.open({message:e.data.description,type:"error"}),console.log(e)},logo:"https://s3.us-east-2.amazonaws.com/directpay-ipg/directpay_logo.png",apiKey:"5feaa9339bfd7251b1b6574498cb7cc29446bfe8c14eed86f3ecfbd594550e2b",style:{button:{borderRadius:"50",textColor:"white",color:"#fd5f00",borderColor:"#fd5f00",mouseHoverColor:"#ed1c24",text:"Pay: Rs "+this.planPrice},showMerchantDetails:!1}})},finish:function(){var e=this;this.intervalid1=setInterval((function(){e.$router.go(e.$router.currentRoute)}),2e3)},back:function(){var e=this.e1-1;this.e1=e}}};const r=(0,s(51900).Z)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",[s("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[s("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[s("v-stepper-header",[s("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v("\n                    Choose Subscription Plan\n                ")]),e._v(" "),s("v-divider"),e._v(" "),s("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v("\n                    Professional Data\n                ")]),e._v(" "),s("v-divider"),e._v(" "),s("v-stepper-step",{attrs:{complete:e.e1>3,step:"3"}},[e._v("\n                    Payment\n                ")])],1),e._v(" "),s("v-stepper-items",[s("v-stepper-content",{attrs:{step:"1"}},[s("div",{attrs:{id:"pricing-container"}},[s("div",{attrs:{id:"pricing-switch"}}),e._v(" "),s("div",{attrs:{id:"pricing-cards"}},e._l(e.memberships,(function(t,a){return s("div",{key:a},[s("div",{staticClass:"price-card price-card--hero"},[s("div",{staticClass:"price-card--header"},[s("h4",[e._v(e._s(t.name))])]),e._v(" "),s("div",{staticClass:"price-card--price"},[s("div",{staticClass:"price-card--price-text"},[s("div",{staticClass:"price-card--price-number toggle-price-content odometer",attrs:{"data-price-yearly":"900"}},[e._v(e._s(t.price)+"\n                                            ")])]),e._v(" "),s("div",{staticClass:"price-card--price-conditions"},[s("div",{staticClass:"toggle-price-content",attrs:{"data-price-monthly":"Billed Monthly","data-price-yearly":"Billed Annually"}},[e._v("Billed Annually\n                                            ")])])]),e._v(" "),s("div",{staticClass:"price-card--cta"},[s("v-btn",{attrs:{color:"teal lighten-1",disabled:null!=e.user&&e.user.membership===t.id},on:{click:function(s){return e.chooseSubscriptionPlan(t.id,t.price)}}},[e._v("Get Started\n                                        ")])],1),e._v(" "),s("div",{staticClass:"price-card--features"},[s("ul",{staticClass:"price-card--features--list text-center"},[s("li",{staticClass:"price-card--features--item "},[e._v("Bonus Rewards Per Month\n                                                "),s("v-chip",{staticClass:"ma-2",attrs:{color:"cyan",label:"","text-color":"white"}},[e._v("\n                                                    "+e._s(t.bonus_rewards)+"\n                                                ")])],1),e._v(" "),s("li",{staticClass:"price-card--features--item "},[e._v("Daily Income\n                                                "),s("v-chip",{staticClass:"ma-2",attrs:{color:"cyan",label:"","text-color":"white"}},[e._v("\n                                                    Rs. "+e._s(t.daily_income.toFixed(2))+"\n                                                ")])],1),e._v(" "),s("li",{staticClass:"price-card--features--item "},[e._v("Weekly Income\n                                                "),s("v-chip",{staticClass:"ma-2",attrs:{color:"cyan",label:"","text-color":"white"}},[e._v("\n                                                    Rs. "+e._s(t.weekly_income.toFixed(2))+"\n                                                ")])],1),e._v(" "),s("li",{staticClass:"price-card--features--item "},[e._v("Monthly Income\n                                                "),s("v-chip",{staticClass:"ma-2",attrs:{color:"cyan",label:"","text-color":"white"}},[e._v("\n                                                    Rs. "+e._s(t.monthly_income.toFixed(2))+"\n                                                ")])],1),e._v(" "),s("li",{staticClass:"price-card--features--item "},[e._v("Monthly Income with Bonus\n                                                "),s("v-chip",{staticClass:"ma-2",attrs:{color:"cyan",label:"","text-color":"white"}},[e._v("\n                                                    Rs. "+e._s(t.monthly_income_with_bonus.toFixed(2))+"\n                                                ")])],1),e._v(" "),s("li",{staticClass:"price-card--features--item "},[e._v("Annual Revenue\n                                                "),s("v-chip",{staticClass:"ma-2",attrs:{color:"cyan",label:"","text-color":"white"}},[e._v("\n                                                    Rs. "+e._s(t.annual_revenue.toFixed(2))+"\n                                                ")])],1)])]),e._v(" "),s("div",{staticClass:"price-card--mobile-features-toggle"})])])})),0)])]),e._v(" "),s("v-stepper-content",{attrs:{step:"2"}},[s("v-row",{staticStyle:{"justify-content":"center"}},[s("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[s("div",{staticClass:"emb-card sign-in-form form-margin d-block white pa-6"},[s("h4",[e._v("Enter Your Details")]),e._v(" "),s("v-form",{ref:"register_form",model:{value:e.register_valid,callback:function(t){e.register_valid=t},expression:"register_valid"}},[s("v-text-field",{attrs:{type:"text",label:"First Name*",rules:e.inputRules.basictextRules},model:{value:e.register.first_name,callback:function(t){e.$set(e.register,"first_name",t)},expression:"register.first_name"}}),e._v(" "),s("v-text-field",{attrs:{type:"text",label:"Last Name*",rules:e.inputRules.basictextRules},model:{value:e.register.last_name,callback:function(t){e.$set(e.register,"last_name",t)},expression:"register.last_name"}}),e._v(" "),s("v-text-field",{attrs:{type:"number",max:"10",label:"Mobile Number*",rules:e.inputRules.basictextRules},model:{value:e.register.phone_number,callback:function(t){e.$set(e.register,"phone_number",t)},expression:"register.phone_number"}}),e._v(" "),s("v-text-field",{attrs:{type:"email",label:"Email*",rules:e.emailRules},model:{value:e.register.email,callback:function(t){e.$set(e.register,"email",t)},expression:"register.email"}}),e._v(" "),s("v-text-field",{attrs:{type:"password",label:"Enter Password*",rules:e.inputRules.basictextRules},model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}}),e._v(" "),s("v-text-field",{staticClass:"mb-4",attrs:{type:"password",label:"Retype Password*",rules:e.inputRules.basictextRules},model:{value:e.register.confirm_password,callback:function(t){e.$set(e.register,"confirm_password",t)},expression:"register.confirm_password"}}),e._v(" "),s("v-text-field",{attrs:{type:"text",label:"Referral ID",readonly:""},model:{value:e.register.referral_id,callback:function(t){e.$set(e.register,"referral_id",t)},expression:"register.referral_id"}}),e._v(" "),s("v-btn",{staticClass:"accent mx-0 mb-4",attrs:{large:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.registerUser.apply(null,arguments)}}},[e._v("\n                                        Create\n                                    ")])],1)],1)])],1),e._v(" "),s("v-btn",{staticClass:"mt-4",attrs:{text:""}},[e._v("\n                        Back\n                    ")])],1),e._v(" "),s("v-stepper-content",{attrs:{step:"3"}},[s("v-row",{staticStyle:{"justify-content":"center"}},[s("v-col",{attrs:{cols:"12",sm:"12",md:"5",lg:"5"}},[s("div",{attrs:{id:"card_container"}})])],1),e._v(" "),s("v-btn",{attrs:{text:""},on:{click:e.back}},[e._v("\n                        Back\n                    ")])],1),e._v(" "),s("v-stepper-content",{attrs:{step:"4"}},[s("v-row",{staticStyle:{"justify-content":"center"}},[s("v-col",{attrs:{cols:"12",sm:"12",md:"8",lg:"8"}},[s("div",{staticClass:"emb-thankyou-wrap section-gap"},[s("div",{staticClass:"container py-0"},[s("div",{staticClass:"layout justify-center align-center"},[s("v-flex",{attrs:{sm12:"",md10:"",lg8:"",xl8:""}},[s("div",{staticClass:"form-img thank-you-image text-center hidden-sm-and-down"},[s("h2",{staticClass:"white--text"},[e._v("Thank You")])]),e._v(" "),s("div",{staticClass:"layout align-center justify-center"},[s("v-flex",{attrs:{xs12:"",md8:"",lg6:"",xl6:""}},[s("div",{staticClass:"emb-card pa-6\n                                                           thankyou-block\n                                                           white pa-6\n                                                           text-center"},[s("h4",{staticClass:"px-6 pb-2 text-center"},[e._v("For every thing you had\n                                                            done with Embryo")]),e._v(" "),s("v-divider",{staticClass:"pt-2 pb-4"}),e._v(" "),s("div",{staticClass:"mx-auto text-center"},[s("p",{staticClass:"mb-4"},[e._v("Spread The Word")]),e._v(" "),s("div",{staticClass:"mb-6 d-block"},[s("emb-social-share")],1)]),e._v(" "),s("v-btn",{staticClass:"accent elevation-5 my-0",attrs:{block:"",height:"50"}},[e._v("Buy\n                                                            Embryo Now\n                                                        ")])],1)])],1)])],1)])])])],1),e._v(" "),s("v-btn",{attrs:{color:"primary"},on:{click:e.finish}},[e._v("\n                        Finish\n                    ")])],1)],1)],1)],1)],1)}),[],!1,null,"39bbb624",null).exports}}]);