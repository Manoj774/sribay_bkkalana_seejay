(self.webpackChunk=self.webpackChunk||[]).push([[599],{60599:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});const o={name:"login",data:function(){return{login:{email:null,password:null,checkbox:!1},login_valid:!1,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],inputRules:{basictextRules:[function(e){return!!e||"This field should not be empty"}]}}},created:function(){null!=JSON.parse(sessionStorage.getItem("user"))&&this.logout()},methods:{loginUser:function(){var e=this;this.$refs.login_form.validate(),!0===this.login_valid&&axios.post("/api/login",this.login).then((function(e){sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("role",e.data.role),sessionStorage.setItem("user",JSON.stringify(e.data.user)),sessionStorage.removeItem("admin-user"),window.location.href="/"})).catch((function(t){e.$toast.open({message:t.response.data.message,type:"error"})}))},logout:function(){var e=this;axios.post("/api/logout").then((function(t){sessionStorage.removeItem("token"),sessionStorage.removeItem("role"),sessionStorage.removeItem("user"),sessionStorage.removeItem("admin-user"),e.$toast.open({message:"Successfully logout",type:"success"}),location.reload()})).catch((function(t){e.$toast.open({message:t.response.data.message,type:"error"})}))}}};const n=(0,s(51900).Z)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"emb-signIn-wrap section-gap"},[s("div",{staticClass:"container py-0"},[s("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[s("v-flex",{attrs:{sm12:"",md12:"",lg8:"",xl7:""}},[s("v-layout",{attrs:{row:"","mx-sm-0":"","mx-3":"",wrap:"","align-center":"","justify-center":""}},[s("v-flex",{attrs:{sm6:"",md7:"",lg6:"",xl6:"","hidden-sm-and-down":""}},[s("div",{staticClass:"form-img sign-in-image"})]),e._v(" "),s("v-flex",{attrs:{sm10:"",md5:"",lg5:"",xl6:""}},[s("div",{staticClass:"emb-card sign-in-form form-margin d-block white pa-6"},[s("h4",[e._v("User Sign In")]),e._v(" "),s("v-form",{ref:"login_form",model:{value:e.login_valid,callback:function(t){e.login_valid=t},expression:"login_valid"}},[s("v-text-field",{attrs:{type:"email",placeholder:"Email*",rules:e.emailRules},model:{value:e.login.email,callback:function(t){e.$set(e.login,"email",t)},expression:"login.email"}}),e._v(" "),s("v-text-field",{attrs:{type:"password",placeholder:"Password*",rules:e.inputRules.basictextRules},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}}),e._v(" "),s("v-btn",{staticClass:"accent mb-3 ma-0",attrs:{large:""},on:{click:e.loginUser}},[e._v("\n                                        Sign In\n                                    ")]),e._v(" "),s("p",[e._v("Don't Have account? "),s("router-link",{staticClass:"accent--text",attrs:{to:"/session/register"}},[e._v("Click here to create one")])],1)],1)],1)])],1)],1)],1)],1)])}),[],!1,null,null,null).exports}}]);