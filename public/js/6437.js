(self.webpackChunk=self.webpackChunk||[]).push([[6437],{16437:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});const t={name:"CreateMembership",data:function(){return{membership:{name:"",price:"",no_of_link_click_per_day:"",task_rewards:"",total_reward_per_day:"",bonus_rewards:"",daily_income:"",weekly_income:"",monthly_income:"",monthly_income_with_bonus:"",annual_revenue:"",registered_commission:0,referral_commission:0},membershipNameRules:[function(e){return!!e||"Membership Name is required"},function(e){return e&&e.length<=250||"Membership Name must be less than 250 characters"}],priceRules:[function(e){return!!e||"Price is required"}],nuOfLinkPerDayRules:[function(e){return!!e||"No of Link Click Per Day is required"}],taskRewardsRules:[function(e){return!!e||"Task Reward is required"}],rewardPerDayRules:[function(e){return!!e||"Total Reward Per Day is required"}],bonusRewardsRules:[function(e){return!!e||"Bonus Reward is required"}]}},created:function(){this.getMemberShipDetails(this.$router.history.current.params.id)},methods:{getMemberShipDetails:function(e){var s=this;axios.get(this.$serverUrl+"api/membership/"+e+"/edit",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("sriBay.jwt")}}).then((function(e){s.membership=e.data.membershipPlan}),(function(e){var r=e.data.message,t="";for(var a in r)t+=r[a];s.$toast.open({message:t,type:"error"})}))},calculateDailyReward:function(){var e=this.membership.task_rewards*this.membership.no_of_link_click_per_day;this.membership.total_reward_per_day=e},calculateIncomes:function(){var e=50*this.membership.total_reward_per_day;this.membership.daily_income=e;var s=7*e;this.membership.weekly_income=s;var r=4*s;this.membership.monthly_income=r;var t=r+50*this.membership.bonus_rewards;this.membership.monthly_income_with_bonus=t,this.membership.annual_revenue=12*t},submitUpdateMembershipPlanFrom:function(){var e=this;axios.put(this.$serverUrl+"api/membership/"+this.membership.id,this.membership,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("sriBay.jwt")}}).then((function(s){e.$toast.open({message:s.data.message,type:"success"}),e.$router.go(e.$router.currentRoute)}),(function(s){var r=s.data.message,t="";for(var a in r)t+=r[a];e.$toast.open({message:t,type:"error"})}))}}};const a=(0,r(51900).Z)(t,(function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[r("v-toolbar-title",[r("h3",[e._v("Edit Membership Plan - "),r("small",[e._v(e._s(e.membership.name))])])]),e._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[r("router-link",{staticClass:"pt-4 d-block font-weight-medium",attrs:{to:"/sriBay-admin/membership-plans"}},[e._v("Back to Memberships\n                ")])],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[r("v-form",{on:{submit:function(s){return s.preventDefault(),e.submitUpdateMembershipPlanFrom.apply(null,arguments)}}},[r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"800"}},[r("v-card-text",[r("div",[e._v("Edit Plan")])]),e._v(" "),r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[r("v-text-field",{staticClass:"name-input",attrs:{label:"Membership Name",type:"text",required:"",counter:250,rules:e.membershipNameRules},model:{value:e.membership.name,callback:function(s){e.$set(e.membership,"name",s)},expression:"membership.name"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[r("v-text-field",{staticClass:"name-input",attrs:{label:"Price",type:"number",required:"",rules:e.priceRules},model:{value:e.membership.price,callback:function(s){e.$set(e.membership,"price",s)},expression:"membership.price"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[r("v-text-field",{staticClass:"name-input",attrs:{label:"No of Link Click Per Day",type:"number",required:"",rules:e.nuOfLinkPerDayRules},model:{value:e.membership.no_of_link_click_per_day,callback:function(s){e.$set(e.membership,"no_of_link_click_per_day",s)},expression:"membership.no_of_link_click_per_day"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[r("v-text-field",{staticClass:"name-input",attrs:{label:"Task Rewards",type:"number",required:"",rules:e.taskRewardsRules},on:{blur:e.calculateDailyReward},model:{value:e.membership.task_rewards,callback:function(s){e.$set(e.membership,"task_rewards",s)},expression:"membership.task_rewards"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[r("v-text-field",{staticClass:"name-input",attrs:{label:"Total Reward Per Day",type:"number",required:"",rules:e.rewardPerDayRules,readonly:""},model:{value:e.membership.total_reward_per_day,callback:function(s){e.$set(e.membership,"total_reward_per_day",s)},expression:"membership.total_reward_per_day"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[r("v-text-field",{staticClass:"name-input",attrs:{label:"Bonus Rewards",type:"number",required:"",rules:e.bonusRewardsRules},on:{blur:e.calculateIncomes},model:{value:e.membership.bonus_rewards,callback:function(s){e.$set(e.membership,"bonus_rewards",s)},expression:"membership.bonus_rewards"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[r("v-text-field",{staticClass:"name-input",attrs:{label:"Daily Income",type:"number",required:"",readonly:""},model:{value:e.membership.daily_income,callback:function(s){e.$set(e.membership,"daily_income",s)},expression:"membership.daily_income"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[r("v-text-field",{staticClass:"name-input",attrs:{label:"Weekly Income",type:"number",required:"",readonly:""},model:{value:e.membership.weekly_income,callback:function(s){e.$set(e.membership,"weekly_income",s)},expression:"membership.weekly_income"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[r("v-text-field",{staticClass:"name-input",attrs:{label:"Monthly Income",type:"number",required:"",readonly:""},model:{value:e.membership.monthly_income,callback:function(s){e.$set(e.membership,"monthly_income",s)},expression:"membership.monthly_income"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[r("v-text-field",{staticClass:"name-input",attrs:{label:"Monthly Income with Bonus",type:"number",required:"",readonly:""},model:{value:e.membership.monthly_income_with_bonus,callback:function(s){e.$set(e.membership,"monthly_income_with_bonus",s)},expression:"membership.monthly_income_with_bonus"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[r("v-text-field",{staticClass:"name-input",attrs:{label:"Annual Revenue",type:"number",required:"",readonly:""},model:{value:e.membership.annual_revenue,callback:function(s){e.$set(e.membership,"annual_revenue",s)},expression:"membership.annual_revenue"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[r("v-text-field",{staticClass:"name-input",attrs:{label:"Registered Commission",type:"number",required:""},model:{value:e.membership.registered_commission,callback:function(s){e.$set(e.membership,"registered_commission",s)},expression:"membership.registered_commission"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[r("v-text-field",{staticClass:"name-input",attrs:{label:"Referral Commission",type:"number",required:""},model:{value:e.membership.referral_commission,callback:function(s){e.$set(e.membership,"referral_commission",s)},expression:"membership.referral_commission"}})],1)],1)],1),e._v(" "),r("v-card-actions",[r("v-btn",{staticClass:"mx-3",attrs:{type:"submit",color:"accent",large:""}},[e._v("Update")])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);