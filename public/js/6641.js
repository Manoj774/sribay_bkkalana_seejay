(self.webpackChunk=self.webpackChunk||[]).push([[6641],{96641:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>c});function r(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return l=t.done,t},e:function(t){o=!0,i=t},f:function(){try{l||null==a.return||a.return()}finally{if(o)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const o={data:function(){return{tab:null,cart:[],selectDeletedProduct:null,total:null,headers:[{text:"Product",align:"left",sortable:!1,value:"image"},{text:"Product Name",value:"name"},{text:"Product Quantity",value:"quantity"},{text:"Product Total",value:"total"},{text:"Remove",value:"remove"}],dialog:!1,login:{email:null,password:null,checkbox:!1},login_valid:!1,register:{first_name:null,last_name:null,phone_number:null,email:null,password:null,confirm_password:null},register_valid:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],inputRules:{basictextRules:[function(t){return!!t||"This field should not be empty"}]},user:null}},mounted:function(){null!=JSON.parse(sessionStorage.getItem("user"))?this.user=JSON.parse(sessionStorage.getItem("user")):null!=JSON.parse(sessionStorage.getItem("admin-user"))&&(this.user=JSON.parse(sessionStorage.getItem("admin-user"))),this.getCartItems()},computed:i(i({},(0,a(20629).Se)(["tax","shipping"])),{},{itemTotal:function(){var t=0;if(this.cart.length>0){var e,a=r(this.cart);try{for(a.s();!(e=a.n()).done;){var s=e.value;t+=s.price*s.quantity}}catch(t){a.e(t)}finally{a.f()}return t.toFixed(2)}return t.toFixed(2)},getTotalPrice:function(){var t=this.tax+this.shipping;if(this.cart.length>0){var e,a=r(this.cart);try{for(a.s();!(e=a.n()).done;){var s=e.value;t+=s.price*s.quantity}}catch(t){a.e(t)}finally{a.f()}return t.toFixed(2)}return t.toFixed(2)}}),methods:{buyNow:function(){null==this.user?this.dialog=!0:window.location.href="/checkout/payment"},registerUser:function(){var t=this;this.$refs.register_form.validate(),!0===this.register_valid&&axios.post("/api/register",this.register).then((function(e){sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("role",e.data.role),sessionStorage.setItem("user",JSON.stringify(e.data.user)),t.user=e.data.user,window.location.href="/checkout/payment"})).catch((function(e){t.$toast.open({message:e.message,type:"error"})}))},loginUser:function(){var t=this;this.$refs.login_form.validate(),!0===this.login_valid&&axios.post("/api/login",this.login).then((function(e){sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("role",e.data.role),sessionStorage.setItem("user",JSON.stringify(e.data.user)),t.user=e.data.user,window.location.href="/checkout/payment"})).catch((function(e){t.$toast.open({message:e.message,type:"error"})}))},updateCartItem:function(t){var e=this;axios.post("/api/cart/update-cart",t).then((function(t){console.log(t.data.message)}),(function(t){var a=t.data.message,r="";for(var s in a)r+=a[s];e.$toast.open({message:r,type:"error"})}))},getCartItems:function(){var t=this;axios.get("/api/cart/get-cart-items").then((function(e){for(var a in t.cart=[],e.data.cart_items)t.cart.push(e.data.cart_items[a])}),(function(e){var a=e.data.message,r="";for(var s in a)r+=a[s];t.$toast.open({message:r,type:"error"})}))},deleteProductFromCart:function(t){this.$refs.deleteConfirmationDialog.openDialog(),this.selectDeletedProduct=t},onDeleteProductFromCart:function(){var t=this;this.$refs.deleteConfirmationDialog.close(),this.$snotify.error("Product Removing from cart",{closeOnClick:!1,pauseOnHover:!1,timeout:1e3}),axios.delete("/api/cart/remove-cart-item/"+this.selectDeletedProduct.product_id).then((function(t){window.location.href="/cart"}),(function(e){var a=e.data.message,r="";for(var s in a)r+=a[s];t.$toast.open({message:r,type:"error"})}))}}};const c=(0,a(51900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"emb-cart-wrap emb-card"},[a("emb-page-title",{attrs:{heading:"Here's what's in your bag",subHeading:"Our latest news and learning articles."}}),t._v(" "),a("div",{staticClass:"cart-content section-gap"},[a("v-container",{attrs:{"grid-list-xl":"","py-0":""}},[""==t.cart?a("div",{staticClass:"text-center"},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"mb-6"},[a("img",{attrs:{alt:"cart-empty",height:"128",src:"static/images/empty-cart.png",width:"128"}})]),t._v(" "),a("h4",[t._v(" Your Shopping Bag is empty")]),t._v(" "),a("router-link",{staticClass:"primary--text",attrs:{to:"/"}},[t._v("Go to Shopping")])],1)]):a("div",{staticClass:"cart-shop-list"},[a("div",{staticClass:"emb-card mb-12 pa-6 white"},t._l(t.cart,(function(e,r){return a("div",{key:r},[a("v-row",{staticClass:"cart-item-wrap"},[a("v-col",{staticClass:"d-inline-flex align-center justify-center",attrs:{cols:"12",sm:"12",md:"2"}},[a("img",{attrs:{src:e.image,alt:"cart-item",width:"100"}})]),t._v(" "),a("v-col",{staticClass:"d-inline-flex align-center justify-center",attrs:{cols:"12",sm:"7",md:"5"}},[a("div",[a("h5",{staticClass:"mb-1",staticStyle:{"font-size":"14px"}},[t._v(t._s(e.name))])])]),t._v(" "),a("v-col",{staticClass:"d-inline-flex align-center justify-center",attrs:{cols:"6",sm:"2",md:"1"}},[a("v-text-field",{staticClass:"d-inline-block",attrs:{type:"number",min:"1",max:"10",placeholder:"Quantity"},on:{change:function(a){return t.updateCartItem(e)}},model:{value:e.quantity,callback:function(a){t.$set(e,"quantity",a)},expression:"item.quantity"}})],1),t._v(" "),a("v-col",{staticClass:"d-inline-flex align-center justify-center",attrs:{cols:"6",sm:"3",md:"2"}},[a("h4",{staticClass:"mb-0"},[a("emb-currency-sign"),t._v("\n                                        "+t._s(e.quantity*e.price)+"\n\t\t\t\t\t\t\t\t\t")],1)]),t._v(" "),a("v-col",{staticClass:"res-float-icon d-inline-flex align-center justify-md-center justify-end",attrs:{cols:"2",sm:"2",md:"2"}},[a("a",{staticClass:"accent--text remove-cart",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.deleteProductFromCart(e)}}},[a("v-icon",[t._v("mdi-close")])],1)])],1)],1)})),0),t._v(" "),a("v-layout",{attrs:{"align-center":"","justify-end":""}},[a("vue-snotify"),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md5:"",lg5:"",xl5:"","py-0":""}},[a("div",{staticClass:"layout align-center justify-space-between subtotal"},[a("p",[t._v("Subtotal")]),t._v(" "),a("span",[a("emb-currency-sign"),t._v("\n                           "+t._s(t.itemTotal)+"\n                        ")],1)]),t._v(" "),a("div",{staticClass:"layout align-center justify-space-between subtotal"},[a("p",[t._v("Shipping")]),t._v(" "),a("span",[a("emb-currency-sign"),t._v("\n                           "+t._s(t.shipping)+"\n                        ")],1)]),t._v(" "),a("div",{staticClass:"layout align-center justify-space-between subtotal"},[a("p",[t._v("Tax(GST)")]),t._v(" "),a("span",[a("emb-currency-sign"),t._v("\n                           "+t._s(t.tax)+"\n                        ")],1)]),t._v(" "),a("v-divider",{staticClass:"my-3"}),t._v(" "),a("div",{staticClass:"layout align-center justify-space-between subtotal layout-gap"},[a("h4",[t._v("Total")]),t._v(" "),a("h4",[a("emb-currency-sign"),t._v("\n                           "+t._s(t.getTotalPrice)+"\n                        ")],1)]),t._v(" "),a("div",{staticClass:"layout justify-end subtotal"},[a("v-btn",{staticClass:"accent mr-0",attrs:{large:""},on:{click:function(e){return t.buyNow()}}},[t._v("\n                           Checkout\n                        ")])],1)],1)],1),t._v(" "),a("emb-delete-confirmation",{ref:"deleteConfirmationDialog",attrs:{message:"Are you sure you want to delete this product?"},on:{onConfirm:t.onDeleteProductFromCart}})],1)]),t._v(" "),[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{sm:"12"}},[a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("User Profile")])]),t._v(" "),a("v-card-text",[a("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#tab-register"}},[t._v("\n                                          Register\n                                      ")]),t._v(" "),a("v-tab",{attrs:{href:"#tab-signin"}},[t._v("\n                                          Sign In\n                                      ")])],1),t._v(" "),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-register"}},[a("v-card",[a("v-card-text",[a("v-form",{ref:"register_form",model:{value:t.register_valid,callback:function(e){t.register_valid=e},expression:"register_valid"}},[a("v-row",[a("v-col",{attrs:{sm:"12",md:"6",xl:"6"}},[a("v-text-field",{attrs:{type:"text",placeholder:"First Name*",rules:t.inputRules.basictextRules},model:{value:t.register.first_name,callback:function(e){t.$set(t.register,"first_name",e)},expression:"register.first_name"}})],1),t._v(" "),a("v-col",{attrs:{sm:"12",md:"6",xl:"6"}},[a("v-text-field",{attrs:{type:"text",placeholder:"Last Name*",rules:t.inputRules.basictextRules},model:{value:t.register.last_name,callback:function(e){t.$set(t.register,"last_name",e)},expression:"register.last_name"}})],1),t._v(" "),a("v-col",{attrs:{sm:"12",md:"6",xl:"6"}},[a("v-text-field",{attrs:{type:"number",max:"10",placeholder:"Mobile Number*",rules:t.inputRules.basictextRules},model:{value:t.register.phone_number,callback:function(e){t.$set(t.register,"phone_number",e)},expression:"register.phone_number"}})],1),t._v(" "),a("v-col",{attrs:{sm:"12",md:"6",xl:"6"}},[a("v-text-field",{attrs:{type:"email",placeholder:"Email*",rules:t.emailRules},model:{value:t.register.email,callback:function(e){t.$set(t.register,"email",e)},expression:"register.email"}})],1),t._v(" "),a("v-col",{attrs:{sm:"12",md:"6",xl:"6"}},[a("v-text-field",{attrs:{type:"password",placeholder:"Enter Password*",rules:t.inputRules.basictextRules},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}})],1),t._v(" "),a("v-col",{attrs:{sm:"12",md:"6",xl:"6"}},[a("v-text-field",{staticClass:"mb-4",attrs:{type:"password",placeholder:"Retype Passowrd*",rules:t.inputRules.basictextRules},model:{value:t.register.confirm_password,callback:function(e){t.$set(t.register,"confirm_password",e)},expression:"register.confirm_password"}})],1)],1),t._v(" "),a("v-btn",{staticClass:"accent mx-0 mb-4",attrs:{large:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.registerUser.apply(null,arguments)}}},[t._v("\n                                                          Sign Up\n                                                      ")])],1)],1)],1)],1),t._v(" "),a("v-tab-item",{attrs:{value:"tab-signin"}},[a("v-card",[a("v-card-text",[a("v-form",{ref:"login_form",model:{value:t.login_valid,callback:function(e){t.login_valid=e},expression:"login_valid"}},[a("v-text-field",{attrs:{type:"email",label:"Email*",rules:t.emailRules},model:{value:t.login.email,callback:function(e){t.$set(t.login,"email",e)},expression:"login.email"}}),t._v(" "),a("v-text-field",{attrs:{type:"password",label:"Password*",rules:t.inputRules.basictextRules},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}}),t._v(" "),a("v-btn",{staticClass:"accent mb-3 ma-0",attrs:{large:""},on:{click:t.loginUser}},[t._v("\n                                                          Sign In\n                                                      ")])],1)],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n                                      Close\n                                  ")])],1)],1)],1)],1)],1)]],2)],1)}),[],!1,null,null,null).exports}}]);